<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<title>Dropdown</title>
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="../dist/styles/dropdown.min.css">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
</head>
<body>
	<header class="header">
		<div class="header__inner container">
			<div class="dscrptn">
				<img src="img/200.png" class="dscrptn__img" alt="" />

				<div class="dscrptn__inner">
					<h1 class="dscrptn__title">Dropdown UI</h1>
					<span class="dscrptn__text">Модуль выпадающего списка с поиском и фильтрацией, учитывающей транслитерацию и неправильную раскладку клавиатуры.</span>
					<a href="https://github.com/a-kovalev/vk-dropdown" target="_blank" class="button">Смотреть на GitHub</a>
				</div>
			</div>
		</div>
	</header>

	<section class="demos container">
		<h2 class="demos__title">Demos</h2>
		
		<div class="demos__items">
			<div class="demos__item">
				<span class="demos__label">Single item select</span>
				<p class="demos__text">Выбор одного элемента из списка</p>
				<div id="single"></div>
			</div>

			<div class="demos__item">
				<span class="demos__label">Multiple select</span>
				<p class="demos__text">Выбор произвольного количества элементов</p>
				<div id="multiple"></div>
			</div>
			
			<div class="demos__item">
				<span class="demos__label">Without avatars</span>
				<p class="demos__text">Не показывать аватарки пользователей</p>
				<div id="without-avatars"></div>
			</div>
			
			<div class="demos__item">
				<span class="demos__label">Server-side search</span>
				<p class="demos__text">Поиск по дополнительным полям на сервере</p>
				<div id="server-search"></div>
				<ul class="demos__list">
					<li>Андрей Рогозов (andrew)</li>
					<li>Алена Хроменкова (a_l_e_n_a_h)</li>
					<li>Вася Вакуленко (basta)</li>
					<li>Данила Поперечный (spoontamer)</li>
					<li>etc.</li>
				</ul>
			</div>

			<div class="demos__item demos__item_100">
<pre class="snippet">
<code>
<span class="sn-keyword">const</span> <span class="sn-variable">dropdown</span> <span class="sn-operator">= new</span> Dropdown(<span class="sn-string">"#dropdown"</span>, {
    data: [{...}],                               <span class="sn-comment">// !REQUIRE default null</span>
    avatar: <span class="sn-boolean">true</span>,                                <span class="sn-comment">// default true</span>
    singleItem: <span class="sn-boolean">false</span>,                           <span class="sn-comment">// default false</span>
    placeholder: <span class="sn-string">"Введите имя друга или email"</span>,
    inputName: <span class="sn-string">"dropdown"</span>,                       <span class="sn-comment">// default "dropdown"</span>
    serverSearch: {
      url: <span class="sn-string">"http://api.com/"</span>,                    <span class="sn-comment">// default null</span>
      fields: [<span class="sn-string">'link'</span>, <span class="sn-string">'city'</span>]                   <span class="sn-comment">// default []</span>
    }
});
</code>
</pre>
			</div>
		</div>
	</section>

	<script src="../dist/scripts/dropdown.js"></script>
	<script src="data/client.js"></script>
	<script>
		var single = new Dropdown("#single", { 
			items: data,
			singleItem: true
		});

		var multiple = new Dropdown("#multiple", { 
			items: data
		});

		var withoutAvatars = new Dropdown("#without-avatars", { 
			items: data,
			templateListItem: item => {
				return `
					<div class="dropdown__item-inner">					
						<span class="dropdown__name">${item.name}</span>
					</div>
				`;
			},
		});

		var serverSearch = new Dropdown("#server-search", { 
			items: data,
			serverSearch: {
				url: "http://dropdown.andreykovalev.me/api.php",
				fields: ['link']
			}
		});
	</script>
</body>
</html>